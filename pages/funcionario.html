<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Painel do Funcionário</title>

  <link rel="stylesheet" href="/assets/styles/style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body onload="carregarDadosFuncionario()" class="bg-light">

  <nav class="navbar navbar-dark">
    <div class="container">
      <span class="navbar-brand" id="nomeAtual">Painel do Funcionário</span>
      <a href="../index.html" class="btn btn-light btn-sm">Sair</a>
    </div>
  </nav>

  <div class="container my-4">
    <div class="row g-3">

      <!-- MEUS DADOS -->
      <div class="col-md-4">
        <div class="card shadow-sm">
          <div class="card-body">
            <h5 class="card-title">Meus Dados</h5>
            <p class="card-text">Visualize e edite telefone, endereço e data de nascimento.</p>
            <button class="btn btn-primary w-100" data-bs-toggle="modal" data-bs-target="#modalDados" onclick="carregarDadosFuncionario()">Abrir</button>
          </div>
        </div>
      </div>

      <!-- MEU HOLERITE -->
      <div class="col-md-4">
        <div class="card shadow-sm">
          <div class="card-body">
            <h5 class="card-title">Meu Holerite</h5>
            <p class="card-text">Visualize holerite gerado pelo gerente.</p>
            <button class="btn btn-success w-100" onclick="mostrarHoleriteFuncionario()">Ver Holerite</button>
          </div>
        </div>
      </div>

      <!-- MINHA RESCISÃO -->
      <div class="col-md-4">
        <div class="card shadow-sm">
          <div class="card-body">
            <h5 class="card-title">Minha Rescisão</h5>
            <p class="card-text">Visualize sua rescisão (se houver).</p>
            <button class="btn btn-danger w-100" onclick="mostrarRescisaoFuncionario()">Ver Rescisão</button>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- MODAL DADOS (FUNCIONÁRIO PODE EDITAR TELEFONE, ENDEREÇO, BDATE) -->
  <div class="modal fade" id="modalDados">
    <div class="modal-dialog">
      <div class="modal-content">

        <div class="modal-header">
          <h5 class="modal-title">Seus Dados</h5>
          <button class="btn-close" data-bs-dismiss="modal"></button>
        </div>

        <div class="modal-body">
          <label>Nome:</label>
          <input id="d_nome" class="form-control mb-2" disabled>

          <label>Cargo:</label>
          <input id="d_cargo" class="form-control mb-2" disabled>

          <label>Telefone:</label>
          <input id="telefone" class="form-control mb-2">

          <label>Endereço:</label>
          <input id="endereco" class="form-control mb-2">

          <label>Data de Nascimento:</label>
          <input id="bdate" type="date" class="form-control mb-2">
        </div>

        <div class="modal-footer">
          <button class="btn btn-primary" onclick="salvarEdicao()" data-bs-dismiss="modal">Salvar</button>
          <button class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
        </div>

      </div>
    </div>
  </div>

  <!-- HOLERITE (VISUALIZAÇÃO) -->
  <div class="container">
    <div id="holeriteFuncionario" class="p-3 bg-white mt-4 border rounded shadow" style="display:none;">
      <h4 class="sub">Seu Holerite</h4>

      <p><b>Nome:</b> <span id="h_nome"></span></p>
      <p><b>Salário Base:</b> <span id="h_salario"></span></p>
      <p><b>Horas Extras:</b> <span id="h_extras"></span></p>
      <p><b>INSS:</b> <span id="h_inss"></span></p>
      <p><b>IRRF:</b> <span id="h_irrf"></span></p>
      <p><b>Descontos:</b> <span id="h_desc"></span></p>

      <hr>
      <p class="fs-5"><b>Salário Líquido:</b> <span id="h_liquido"></span></p>
    </div>
  </div>

  <!-- RESCISÃO (VISUALIZAÇÃO) -->
  <div class="container">
    <div id="rescisaoFuncionario" class="p-3 bg-white mt-4 border rounded shadow" style="display:none;">
      <h4 class="sub">Sua Rescisão</h4>

      <p><b>Admissão:</b> <span id="rc_admissao"></span></p>
      <p><b>Demissão:</b> <span id="rc_demissao"></span></p>
      <p><b>Salário Base:</b> <span id="rc_salario"></span></p>

      <hr>
      <p><b>Saldo de Salário:</b> <span id="rc_saldo"></span></p>
      <p><b>Férias Vencidas (R$):</b> <span id="rc_ferias_vencidas"></span></p>
      <p><b>Férias Proporcionais (R$):</b> <span id="rc_ferias_prop"></span></p>
      <p><b>13º Proporcional (R$):</b> <span id="rc_13"></span></p>
      <p><b>FGTS (8% R$):</b> <span id="rc_fgts"></span></p>
      <p><b>Multa FGTS (40% R$):</b> <span id="rc_multa"></span></p>

      <hr>
      <p class="fs-5"><b>Total da Rescisão (R$):</b> <span id="rc_total"></span></p>
    </div>
  </div>

  <script src="/assets/scripts/script.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
